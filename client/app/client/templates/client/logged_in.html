{% extends "client/layouts/base.html" %}

{% block stylesheets %}
<style>
    .feature-icon {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 4rem;
        height: 4rem;
        margin-bottom: 1rem;
        font-size: 2rem;
        color: #fff;
        border-radius: .75rem;
    }

    @media (min-width: 768px) {
        .bd-placeholder-img-lg {
            font-size: 3.5rem;
        }


        .bi {
            vertical-align: -.125em;
            fill: currentColor;
        }
</style>
{% endblock stylesheets %}
{% block content %}

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="people-circle" viewBox="0 0 16 16">
        <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z" />
        <path fill-rule="evenodd"
            d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z" />
    </symbol>

    <symbol id="toggles2" viewBox="0 0 16 16">
        <path d="M9.465 10H12a2 2 0 1 1 0 4H9.465c.34-.588.535-1.271.535-2 0-.729-.195-1.412-.535-2z" />
        <path
            d="M6 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm0 1a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm.535-10a3.975 3.975 0 0 1-.409-1H4a1 1 0 0 1 0-2h2.126c.091-.355.23-.69.41-1H4a2 2 0 1 0 0 4h2.535z" />
        <path d="M14 4a4 4 0 1 1-8 0 4 4 0 0 1 8 0z" />
    </symbol>


</svg>
<div class="container px-4 py-5 " id="featured-3">
    <div class="pb-2 border-bottom clearfix">
        <h2 class="float-start">Client application</h2>    
        <a class="float-end btn btn-primary" href="{{ url_for('client.logout') }}">Logout</a>
    </div>
    <div class="row g-4 py-5 row-cols-1 row-cols-lg-2">
        <div class="feature col">
            <div class="feature-icon bg-primary bg-gradient">
                <svg class="bi" width="1em" height="1em">
                    <use xlink:href="#people-circle" /></svg>
            </div>
            <h2>Show authentication details</h2>
            <p>This shows the authentication details returned by the OAuth Server.
                It includes the Authenticate response and the decoded ID_token (JWT)</p>
            <a href="{{ url_for('client.viewAuthDetails') }}" class="icon-link">
                View Auth Details
                <svg class="bi" width="1em" height="1em">
                    <use xlink:href="#chevron-right" /></svg>
            </a>
        </div>
        <div class="feature col">
            <div class="feature-icon bg-primary bg-gradient">
                <svg class="bi" width="1em" height="1em">
                    <use xlink:href="#toggles2" /></svg>
            </div>
            <h2>Get user list</h2>
            <p>This makes a call to the Resource server using the access token. If the user role is Admin or Developer
                then it will succeed otherwise you will get a not authorised error</p>
            <a href="{{ url_for('client.getUsers') }}" class="icon-link">
                Get Users
                <svg class="bi" width="1em" height="1em">
                    <use xlink:href="#chevron-right" /></svg>
            </a>
        </div>
    </div>



    {% with messages = get_flashed_messages() %}
    {% if messages %}
    <ul class=flashes>
        {% for message in messages %}
        <li>{{ message|safe }}</li>
        {% endfor %}
    </ul>
    {% endif %}
    {% endwith %}

</div>

{% endblock content %}